{"ast":null,"code":"import _defineProperty from\"/Users/rickygould/Downloads/web102_unit7lab-main/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/rickygould/Downloads/web102_unit7lab-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/rickygould/Downloads/web102_unit7lab-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rickygould/Downloads/web102_unit7lab-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rickygould/Downloads/web102_unit7lab-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useParams}from'react-router-dom';import'./EditPost.css';import{supabase}from'../client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPost=function EditPost(_ref){var data=_ref.data;var _useParams=useParams(),id=_useParams.id;var _useState=useState({id:null,title:\"\",author:\"\",description:\"\"}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];//UPDATEPOST\nvar updatePost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return supabase.from('Posts').update({title:post.title,author:post.author,description:post.description}).eq('id',id);case 3:window.location=\"/\";case 4:case\"end\":return _context.stop();}}},_callee);}));return function updatePost(_x){return _ref2.apply(this,arguments);};}();//DELETE POST\nvar deletePost=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.next=3;return supabase.from('Posts').delete().eq('id',id);case 3:window.location=\"http://localhost:3000/\";case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function deletePost(_x2){return _ref3.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setPost(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:post.title,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"author\",children:\"Author\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"author\",name:\"author\",value:post.author,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"5\",cols:\"50\",id:\"description\",name:\"description\",value:post.description,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\",onClick:updatePost}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteButton\",onClick:deletePost,children:\"Delete\"})]})});};export default EditPost;","map":{"version":3,"names":["React","useState","useParams","supabase","EditPost","data","id","title","author","description","post","setPost","updatePost","event","preventDefault","from","update","eq","window","location","deletePost","delete","handleChange","target","name","value","prev"],"sources":["/Users/rickygould/Downloads/web102_unit7lab-main/client/src/pages/EditPost.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport './EditPost.css';\nimport { supabase } from '../client';\n\nconst EditPost = ({ data }) => {\n    const { id } = useParams();\n    const [post, setPost] = useState({ id: null, title: \"\", author: \"\", description: \"\" });\n//UPDATEPOST\n    const updatePost = async (event) => {\n        event.preventDefault();\n\n        await supabase\n            .from('Posts')\n            .update({ title: post.title, author: post.author, description: post.description })\n            .eq('id', id);\n\n        window.location = \"/\";\n    };\n//DELETE POST\n    const deletePost = async (event) => {\n        event.preventDefault();\n  \n        await supabase\n            .from('Posts')\n            .delete()\n            .eq('id', id); \n  \n        window.location = \"http://localhost:3000/\";\n  }\n\n    const handleChange = (event) => {\n        const { name, value } = event.target;\n        setPost(prev => ({\n            ...prev,\n            [name]: value,\n        }));\n    };\n\n    return (\n        <div>\n            <form>\n                <label htmlFor=\"title\">Title</label> <br />\n                <input type=\"text\" id=\"title\" name=\"title\" value={post.title} onChange={handleChange} /><br />\n                <br />\n\n                <label htmlFor=\"author\">Author</label><br />\n                <input type=\"text\" id=\"author\" name=\"author\" value={post.author} onChange={handleChange} /><br />\n                <br />\n\n                <label htmlFor=\"description\">Description</label><br />\n                <textarea rows=\"5\" cols=\"50\" id=\"description\" name=\"description\" value={post.description} onChange={handleChange} />\n                <br />\n                <input type=\"submit\" value=\"Submit\" onClick={updatePost} />\n                <button className=\"deleteButton\" onClick={deletePost}>Delete</button>\n            </form>\n        </div>\n    );\n};\n\nexport default EditPost;\n"],"mappings":"ktBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAO,gBAAP,CACA,OAASC,QAAT,KAAyB,WAAzB,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,MAAc,IAAXC,KAAW,MAAXA,IAAW,CAC3B,eAAeH,SAAS,EAAxB,CAAQI,EAAR,YAAQA,EAAR,CACA,cAAwBL,QAAQ,CAAC,CAAEK,EAAE,CAAE,IAAN,CAAYC,KAAK,CAAE,EAAnB,CAAuBC,MAAM,CAAE,EAA/B,CAAmCC,WAAW,CAAE,EAAhD,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eACJ;AACI,GAAMC,WAAU,6FAAG,iBAAOC,KAAP,oHACfA,KAAK,CAACC,cAAN,GADe,sBAGTX,SAAQ,CACTY,IADC,CACI,OADJ,EAEDC,MAFC,CAEM,CAAET,KAAK,CAAEG,IAAI,CAACH,KAAd,CAAqBC,MAAM,CAAEE,IAAI,CAACF,MAAlC,CAA0CC,WAAW,CAAEC,IAAI,CAACD,WAA5D,CAFN,EAGDQ,EAHC,CAGE,IAHF,CAGQX,EAHR,CAHS,QAQfY,MAAM,CAACC,QAAP,CAAkB,GAAlB,CARe,sDAAH,kBAAVP,WAAU,6CAAhB,CAUJ;AACI,GAAMQ,WAAU,6FAAG,kBAAOP,KAAP,wHACfA,KAAK,CAACC,cAAN,GADe,uBAGTX,SAAQ,CACTY,IADC,CACI,OADJ,EAEDM,MAFC,GAGDJ,EAHC,CAGE,IAHF,CAGQX,EAHR,CAHS,QAQfY,MAAM,CAACC,QAAP,CAAkB,wBAAlB,CARe,wDAAH,kBAAVC,WAAU,8CAAhB,CAWA,GAAME,aAAY,CAAG,QAAfA,aAAe,CAACT,KAAD,CAAW,CAC5B,kBAAwBA,KAAK,CAACU,MAA9B,CAAQC,IAAR,eAAQA,IAAR,CAAcC,KAAd,eAAcA,KAAd,CACAd,OAAO,CAAC,SAAAe,IAAI,wCACLA,IADK,wBAEPF,IAFO,CAEAC,KAFA,IAAL,CAAP,CAIH,CAND,CAQA,mBACI,kCACI,qCACI,cAAO,OAAO,CAAC,OAAf,mBADJ,kBACyC,aADzC,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,OAAtB,CAA8B,IAAI,CAAC,OAAnC,CAA2C,KAAK,CAAEf,IAAI,CAACH,KAAvD,CAA8D,QAAQ,CAAEe,YAAxE,EAFJ,cAE4F,aAF5F,cAGI,aAHJ,cAKI,cAAO,OAAO,CAAC,QAAf,oBALJ,cAK0C,aAL1C,cAMI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,QAAtB,CAA+B,IAAI,CAAC,QAApC,CAA6C,KAAK,CAAEZ,IAAI,CAACF,MAAzD,CAAiE,QAAQ,CAAEc,YAA3E,EANJ,cAM+F,aAN/F,cAOI,aAPJ,cASI,cAAO,OAAO,CAAC,aAAf,yBATJ,cASoD,aATpD,cAUI,iBAAU,IAAI,CAAC,GAAf,CAAmB,IAAI,CAAC,IAAxB,CAA6B,EAAE,CAAC,aAAhC,CAA8C,IAAI,CAAC,aAAnD,CAAiE,KAAK,CAAEZ,IAAI,CAACD,WAA7E,CAA0F,QAAQ,CAAEa,YAApG,EAVJ,cAWI,aAXJ,cAYI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,OAAO,CAAEV,UAA7C,EAZJ,cAaI,eAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAEQ,UAA1C,oBAbJ,GADJ,EADJ,CAmBH,CArDD,CAuDA,cAAehB,SAAf"},"metadata":{},"sourceType":"module"}